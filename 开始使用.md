# 🎯 开始使用 - 完整指南

欢迎使用迷你社交网站！本指南将带你一步步完成配置和启动。

## ⚡ 当前状态

✅ **项目代码已完成**  
✅ **依赖已安装**  
⚠️ **需要配置 Firebase**（这是唯一需要你做的事情）

---

## 📋 第一步：创建 Firebase 项目（5分钟）

### 1.1 访问 Firebase 控制台

打开浏览器，访问：https://console.firebase.google.com/

### 1.2 创建新项目

1. 点击 **"添加项目"** 或 **"Create a project"**
2. 输入项目名称，例如：`mini-social-media` 或 `我的社交网站`
3. 点击 **"继续"**
4. Google Analytics 可以选择 **"暂不启用"**（可选功能）
5. 点击 **"创建项目"**
6. 等待项目创建完成（约10-30秒）

### 1.3 添加 Web 应用

1. 在项目概览页面，点击 **Web 图标**（`</>`）
2. 给应用起个名字，例如：`Mini Social Media Web`
3. **不要**勾选 "Firebase Hosting"（除非你想部署）
4. 点击 **"注册应用"**

### 1.4 复制配置信息

注册完成后，你会看到类似这样的代码：

```javascript
const firebaseConfig = {
  apiKey: "AIzaSyA_7xxxxxxxxxxxxxxxxxxxxxxxxxxx",
  authDomain: "mini-social-media-12345.firebaseapp.com",
  projectId: "mini-social-media-12345",
  storageBucket: "mini-social-media-12345.appspot.com",
  messagingSenderId: "123456789012",
  appId: "1:123456789012:web:abcdef123456"
};
```

**重要：请复制你自己的配置信息（不要用上面的示例）**

---

## 🔑 第二步：启用 Authentication（2分钟）

### 2.1 进入 Authentication

1. 在 Firebase 控制台左侧菜单，点击 **"Authentication"**
2. 点击 **"开始使用"** 或 **"Get started"**

### 2.2 启用邮箱登录

1. 点击 **"Sign-in method"**（登录方法）标签
2. 找到 **"Email/Password"**，点击它
3. 启用第一个开关（**Email/Password**）
4. **不要**启用第二个开关（Email link）
5. 点击 **"保存"**

✅ 完成！现在用户可以用邮箱注册和登录了。

---

## 💾 第三步：创建 Firestore Database（3分钟）

### 3.1 创建数据库

1. 在 Firebase 控制台左侧菜单，点击 **"Firestore Database"**
2. 点击 **"创建数据库"** 或 **"Create database"**

### 3.2 选择模式

**重要：请选择"测试模式"**

- ✅ **测试模式**（推荐用于学习和开发）
  - 30天内可以自由读写数据
  - 适合快速开发和测试
  - 30天后可以更新规则延长使用

- ❌ **生产模式**（暂不推荐）
  - 需要手动设置规则才能使用
  - 适合正式上线的应用

### 3.3 选择区域

选择离你最近的区域：
- 🇨🇳 **asia-east2** (香港) - **推荐**
- 🇯🇵 **asia-northeast1** (东京)
- 🇹🇼 **asia-east1** (台湾)

点击 **"启用"** 或 **"Enable"**

### 3.4 设置安全规则

数据库创建完成后：

1. 点击 **"规则"** 标签
2. 将下面的规则复制粘贴到编辑器中：

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /messages/{messageId} {
      allow read: if true;
      allow create: if request.auth != null;
      allow update, delete: if request.auth != null 
        && request.auth.uid == resource.data.authorId;
    }
  }
}
```

3. 点击 **"发布"** 或 **"Publish"**

**规则说明：**
- `allow read: if true` - 所有人都能看消息（包括游客）
- `allow create: if request.auth != null` - 只有登录用户能发消息
- `allow update, delete` - 只有作者能编辑/删除自己的消息

---

## ⚙️ 第四步：配置项目（1分钟）

### 4.1 打开配置文件

用文本编辑器打开：
```
/Users/zhennan/Documents/GithubRepos/miniSocialMediaWebsite/src/firebase.js
```

### 4.2 替换配置信息

找到这几行：

```javascript
const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "YOUR_AUTH_DOMAIN",
  projectId: "YOUR_PROJECT_ID",
  storageBucket: "YOUR_STORAGE_BUCKET",
  messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
  appId: "YOUR_APP_ID"
};
```

把它们替换为第一步中复制的**你自己的配置信息**。

**示例：**

```javascript
const firebaseConfig = {
  apiKey: "AIzaSyA_7xxxxxxxxxxxxxxxxxxxxxxxxxxx",
  authDomain: "mini-social-media-12345.firebaseapp.com",
  projectId: "mini-social-media-12345",
  storageBucket: "mini-social-media-12345.appspot.com",
  messagingSenderId: "123456789012",
  appId: "1:123456789012:web:abcdef123456"
};
```

保存文件。

---

## 🚀 第五步：启动项目（30秒）

### 5.1 打开终端

在项目目录中打开终端（Terminal）。

### 5.2 运行开发服务器

```bash
npm run dev
```

你会看到类似这样的输出：

```
  VITE v5.4.2  ready in 500 ms

  ➜  Local:   http://localhost:5173/
  ➜  Network: use --host to expose
  ➜  press h + enter to show help
```

### 5.3 打开浏览器

在浏览器中访问：**http://localhost:5173**

---

## 🎉 第六步：测试功能

### 6.1 注册账号

1. 在网页上找到注册表单
2. 输入邮箱，例如：`test@example.com`
3. 输入密码（至少6位），例如：`123456`
4. 点击 **"注册"**

如果成功：
- ✅ 页面会刷新
- ✅ 顶部显示你的邮箱
- ✅ 出现"发布新消息"表单

### 6.2 发布第一条消息

1. 在 **"标题"** 输入框输入：`我的第一条消息`
2. 在 **"内容"** 输入框输入：`大家好，这是我的第一条消息！`
3. 点击 **"发布消息"**

成功后：
- ✅ 弹出"发布成功！"提示
- ✅ 消息立即出现在下方
- ✅ 消息卡片显示你的邮箱和"刚刚"

### 6.3 编辑消息

1. 在你的消息卡片底部，点击 **"编辑"**
2. 修改标题或内容
3. 点击 **"保存"**

### 6.4 删除消息

1. 在你的消息卡片底部，点击 **"删除"**
2. 确认删除
3. 消息立即消失

### 6.5 退出登录

1. 点击顶部的 **"退出登录"**
2. 页面刷新，回到游客模式
3. 你仍然可以看到所有消息，但无法发布

---

## 🎨 界面预览

打开后你会看到：

### 未登录状态（游客模式）
- 🎨 紫色渐变背景
- 📝 登录/注册表单
- 📱 所有消息列表（只读）
- 👤 顶部显示"游客模式"

### 登录状态
- ✨ 顶部显示你的邮箱
- ✍️ "发布新消息"表单
- 📱 所有消息列表
- ✏️ 你的消息有"编辑"和"删除"按钮

---

## ❓ 常见问题

### Q1: 点击注册/登录后没反应？

**排查步骤：**
1. 按 `F12` 打开浏览器控制台
2. 查看是否有红色错误信息
3. 检查 `src/firebase.js` 配置是否正确
4. 确认 Firebase Authentication 已启用 Email/Password

### Q2: 无法发布消息？

**排查步骤：**
1. 确认已登录（顶部应显示你的邮箱）
2. 检查 Firestore Database 是否已创建
3. 检查安全规则是否正确设置
4. 查看浏览器控制台错误信息

### Q3: 看不到任何消息？

**可能原因：**
- 数据库是空的（还没人发过消息）
- Firestore 安全规则不允许读取
- 检查控制台是否有错误

### Q4: 能看到别人的消息，但无法编辑？

**这是正常的！**
- 你只能编辑和删除**自己**发布的消息
- 别人的消息只会显示标题、内容、作者和时间
- 这是安全规则保护的

### Q5: 30天后 Firestore 规则过期怎么办？

**解决方案：**
1. 进入 Firestore Database → 规则
2. 找到规则中的日期限制
3. 更新日期或改用我们提供的永久规则（见第三步）
4. 点击发布

---

## 📚 更多资源

### 项目文档
- 📖 [README.md](./README.md) - 完整项目文档
- 🚀 [QUICK_START.md](./QUICK_START.md) - 快速开始指南
- 🔧 [FIREBASE_SETUP.md](./FIREBASE_SETUP.md) - Firebase 详细配置
- 📋 [PROJECT_SUMMARY.md](./PROJECT_SUMMARY.md) - 项目完成总结

### 外部文档
- [Firebase 官方文档](https://firebase.google.com/docs)
- [React 官方文档](https://react.dev/)
- [Vite 官方文档](https://vitejs.dev/)

---

## 🎯 项目结构速览

```
miniSocialMediaWebsite/
├── src/
│   ├── components/           # 组件文件夹
│   │   ├── Auth.jsx         # 登录注册组件
│   │   ├── CreateMessage.jsx # 发布消息组件
│   │   ├── MessageList.jsx  # 消息列表组件
│   │   └── MessageCard.jsx  # 消息卡片组件
│   ├── App.jsx              # 主应用
│   ├── firebase.js          # ⚠️ 需要配置这个文件！
│   └── main.jsx             # 入口
├── package.json             # 依赖配置
└── README.md                # 项目说明
```

---

## ✅ 检查清单

完成前面的步骤后，请确认：

- [ ] Firebase 项目已创建
- [ ] Authentication 已启用 Email/Password
- [ ] Firestore Database 已创建
- [ ] Firestore 安全规则已设置
- [ ] `src/firebase.js` 配置已更新
- [ ] `npm run dev` 成功运行
- [ ] 浏览器可以打开 http://localhost:5173
- [ ] 可以注册新账号
- [ ] 可以发布消息
- [ ] 可以编辑和删除自己的消息

全部打勾？**恭喜你，项目配置成功！** 🎉

---

## 🆘 需要帮助？

如果遇到问题：

1. **查看浏览器控制台**（F12），寻找错误信息
2. **检查 Firebase 控制台**，确认所有服务都已启用
3. **重新阅读本指南**，确保每步都正确完成
4. **查看项目文档**，可能有更详细的说明

---

**祝你使用愉快！享受创建社交应用的乐趣！** 🚀✨

有任何问题都可以查看相关文档，或者检查浏览器控制台的错误信息。


